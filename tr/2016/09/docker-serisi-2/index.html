<!doctype html><html lang=tr dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Docker Serisi #2 -- Docker Engine BÃ¶lÃ¼m 1 | Alper Kanat</title><meta name=keywords content="yazÄ±lÄ±m,docker,docker serisi,container,sanallaÅŸtÄ±rma,linux,devops"><meta name=description content="Docker Serisiâ€™nin ilk bÃ¶lÃ¼mÃ¼nde sanallaÅŸtÄ±rmanÄ±n ne olduÄŸundan, container teknolojisinden ve temel Docker kavramlarÄ±ndan bahsetmiÅŸtim. Serinin bu bÃ¶lÃ¼mÃ¼nde temel Docker komutlarÄ±nÄ±n kullanÄ±lmasÄ±ndan bahsedeceÄŸim. HazÄ±rsanÄ±z baÅŸlayalÄ±m! ğŸ™‚
docker <cmd> &mldr; Ã–ncelikle tÃ¼m docker komutlarÄ± docker kelimesiyle baÅŸlÄ±yor. Serinin sonraki bÃ¶lÃ¼mlerinde bahsedeceÄŸim eklentiler ise docker- Ã¶n ekiyle (docker-compose, docker-swarm gibi..) baÅŸlÄ±yorlar. HiÃ§ bir parametre vermeden yalnÄ±zca bu komutlarÄ± yazacak olursanÄ±z ilgili komuta ait yardÄ±m metinleri ekranÄ±nÄ±za Ã§Ä±kacaktÄ±r. DolayÄ±sÄ±yla dockerâ€™Ä± ya da eklentilerini kurduktan sonra, kurulumunuzun baÅŸarÄ±lÄ± olduÄŸunu anlamak iÃ§in ilk yapmanÄ±z gereken ÅŸey herhangi bir parametre vermeden Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zda yardÄ±m metinlerini gÃ¶rÃ¼p gÃ¶remediÄŸiniz olmalÄ±."><meta name=author content><link rel=canonical href=https://alperkan.at/tr/2016/09/docker-serisi-2/><link crossorigin=anonymous href=/assets/css/stylesheet.min.2d6dbfc6e0f8a1db1c9d082a76dc11d094328cf63f247bbc2421dfaa7f2bb170.css integrity="sha256-LW2/xuD4odscnQgqdtwR0JQyjPY/JHu8JCHfqn8rsXA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://alperkan.at/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://alperkan.at/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://alperkan.at/favicon-32x32.png><link rel=apple-touch-icon href=https://alperkan.at/apple-touch-icon.png><link rel=mask-icon href=https://alperkan.at/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.102.3"><link rel=alternate hreflang=tr href=https://alperkan.at/tr/2016/09/docker-serisi-2/><script async src="https://www.googletagmanager.com/gtag/js?id=G-SDT9Y68PM3"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SDT9Y68PM3",{anonymize_ip:!1})}</script><meta property="og:title" content="Docker Serisi #2 -- Docker Engine BÃ¶lÃ¼m 1"><meta property="og:description" content="Docker Serisiâ€™nin ilk bÃ¶lÃ¼mÃ¼nde sanallaÅŸtÄ±rmanÄ±n ne olduÄŸundan, container teknolojisinden ve temel Docker kavramlarÄ±ndan bahsetmiÅŸtim. Serinin bu bÃ¶lÃ¼mÃ¼nde temel Docker komutlarÄ±nÄ±n kullanÄ±lmasÄ±ndan bahsedeceÄŸim. HazÄ±rsanÄ±z baÅŸlayalÄ±m! ğŸ™‚
docker <cmd> &mldr; Ã–ncelikle tÃ¼m docker komutlarÄ± docker kelimesiyle baÅŸlÄ±yor. Serinin sonraki bÃ¶lÃ¼mlerinde bahsedeceÄŸim eklentiler ise docker- Ã¶n ekiyle (docker-compose, docker-swarm gibi..) baÅŸlÄ±yorlar. HiÃ§ bir parametre vermeden yalnÄ±zca bu komutlarÄ± yazacak olursanÄ±z ilgili komuta ait yardÄ±m metinleri ekranÄ±nÄ±za Ã§Ä±kacaktÄ±r. DolayÄ±sÄ±yla dockerâ€™Ä± ya da eklentilerini kurduktan sonra, kurulumunuzun baÅŸarÄ±lÄ± olduÄŸunu anlamak iÃ§in ilk yapmanÄ±z gereken ÅŸey herhangi bir parametre vermeden Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zda yardÄ±m metinlerini gÃ¶rÃ¼p gÃ¶remediÄŸiniz olmalÄ±."><meta property="og:type" content="article"><meta property="og:url" content="https://alperkan.at/tr/2016/09/docker-serisi-2/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-09-26T00:00:00+00:00"><meta property="article:modified_time" content="2021-04-25T00:40:03+03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Docker Serisi #2 -- Docker Engine BÃ¶lÃ¼m 1"><meta name=twitter:description content="Docker Serisiâ€™nin ilk bÃ¶lÃ¼mÃ¼nde sanallaÅŸtÄ±rmanÄ±n ne olduÄŸundan, container teknolojisinden ve temel Docker kavramlarÄ±ndan bahsetmiÅŸtim. Serinin bu bÃ¶lÃ¼mÃ¼nde temel Docker komutlarÄ±nÄ±n kullanÄ±lmasÄ±ndan bahsedeceÄŸim. HazÄ±rsanÄ±z baÅŸlayalÄ±m! ğŸ™‚
docker <cmd> &mldr; Ã–ncelikle tÃ¼m docker komutlarÄ± docker kelimesiyle baÅŸlÄ±yor. Serinin sonraki bÃ¶lÃ¼mlerinde bahsedeceÄŸim eklentiler ise docker- Ã¶n ekiyle (docker-compose, docker-swarm gibi..) baÅŸlÄ±yorlar. HiÃ§ bir parametre vermeden yalnÄ±zca bu komutlarÄ± yazacak olursanÄ±z ilgili komuta ait yardÄ±m metinleri ekranÄ±nÄ±za Ã§Ä±kacaktÄ±r. DolayÄ±sÄ±yla dockerâ€™Ä± ya da eklentilerini kurduktan sonra, kurulumunuzun baÅŸarÄ±lÄ± olduÄŸunu anlamak iÃ§in ilk yapmanÄ±z gereken ÅŸey herhangi bir parametre vermeden Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zda yardÄ±m metinlerini gÃ¶rÃ¼p gÃ¶remediÄŸiniz olmalÄ±."><script type=application/ld+json>
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://alperkan.at/tr/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Docker Serisi #2 -- Docker Engine BÃ¶lÃ¼m 1",
      "item": "https://alperkan.at/tr/2016/09/docker-serisi-2/"
    }
  ]
}
</script><script type=application/ld+json>
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Docker Serisi #2 -- Docker Engine BÃ¶lÃ¼m 1",
  "name": "Docker Serisi #2 -- Docker Engine BÃ¶lÃ¼m 1",
  "description": "Docker Serisiâ€™nin ilk bÃ¶lÃ¼mÃ¼nde sanallaÅŸtÄ±rmanÄ±n ne olduÄŸundan, container teknolojisinden ve temel Docker kavramlarÄ±ndan bahsetmiÅŸtim. Serinin bu bÃ¶lÃ¼mÃ¼nde temel Docker komutlarÄ±nÄ±n kullanÄ±lmasÄ±ndan bahsedeceÄŸim. HazÄ±rsanÄ±z baÅŸlayalÄ±m! ğŸ™‚\ndocker \u0026lt;cmd\u0026gt; \u0026hellip; Ã–ncelikle tÃ¼m docker komutlarÄ± docker kelimesiyle baÅŸlÄ±yor. Serinin sonraki bÃ¶lÃ¼mlerinde bahsedeceÄŸim eklentiler ise docker- Ã¶n ekiyle (docker-compose, docker-swarm gibi..) baÅŸlÄ±yorlar. HiÃ§ bir parametre vermeden yalnÄ±zca bu komutlarÄ± yazacak olursanÄ±z ilgili komuta ait yardÄ±m metinleri ekranÄ±nÄ±za Ã§Ä±kacaktÄ±r. DolayÄ±sÄ±yla dockerâ€™Ä± ya da eklentilerini kurduktan sonra, kurulumunuzun baÅŸarÄ±lÄ± olduÄŸunu anlamak iÃ§in ilk yapmanÄ±z gereken ÅŸey herhangi bir parametre vermeden Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zda yardÄ±m metinlerini gÃ¶rÃ¼p gÃ¶remediÄŸiniz olmalÄ±.",
  "keywords": [
    "yazÄ±lÄ±m", "docker", "docker serisi", "container", "sanallaÅŸtÄ±rma", "linux", "devops"
  ],
  "articleBody": "Docker Serisiâ€™nin ilk bÃ¶lÃ¼mÃ¼nde sanallaÅŸtÄ±rmanÄ±n ne olduÄŸundan, container teknolojisinden ve temel Docker kavramlarÄ±ndan bahsetmiÅŸtim. Serinin bu bÃ¶lÃ¼mÃ¼nde temel Docker komutlarÄ±nÄ±n kullanÄ±lmasÄ±ndan bahsedeceÄŸim. HazÄ±rsanÄ±z baÅŸlayalÄ±m! ğŸ™‚\ndocker â€¦ Ã–ncelikle tÃ¼m docker komutlarÄ± docker kelimesiyle baÅŸlÄ±yor. Serinin sonraki bÃ¶lÃ¼mlerinde bahsedeceÄŸim eklentiler ise docker- Ã¶n ekiyle (docker-compose, docker-swarm gibi..) baÅŸlÄ±yorlar. HiÃ§ bir parametre vermeden yalnÄ±zca bu komutlarÄ± yazacak olursanÄ±z ilgili komuta ait yardÄ±m metinleri ekranÄ±nÄ±za Ã§Ä±kacaktÄ±r. DolayÄ±sÄ±yla dockerâ€™Ä± ya da eklentilerini kurduktan sonra, kurulumunuzun baÅŸarÄ±lÄ± olduÄŸunu anlamak iÃ§in ilk yapmanÄ±z gereken ÅŸey herhangi bir parametre vermeden Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zda yardÄ±m metinlerini gÃ¶rÃ¼p gÃ¶remediÄŸiniz olmalÄ±.\nDocker komutlarÄ± info, build, exec, ps, rm, run gibi kelimelerden oluÅŸuyor ve bir Ã¼st paragrafta bahsettiÄŸim yardÄ±m metinlerinde tam listesini gÃ¶rebilirsiniz. Bu komutlarÄ±n yardÄ±m metinlerine ise\ndocker help build ya da docker build -h ya da docker build --help\nyazarak ulaÅŸabilirsiniz. ÃœÃ§Ã¼ de aynÄ± Ã§Ä±ktÄ±yÄ± verecektir. Her komutu kullanmadan Ã¶nce baÅŸka neler yapabileceÄŸinizi anlamak/Ã¶ÄŸrenmek iÃ§in bu komutlarÄ± yazarak denemeler yapmanÄ±z faydalÄ± olacaktÄ±r. Serinin tÃ¼m yazÄ±larÄ±nda yalnÄ±zca sÄ±k kullanÄ±lan parametreleri anlatÄ±yor olacaÄŸÄ±m.\nDevam etmeden Ã¶nce docker kurulumunuzun baÅŸarÄ±lÄ± olduÄŸundan ve Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan emin olmak iÃ§in docker info komutunu verin:\ndocker info komutunu verdiÄŸinizde buna benzer bir Ã§Ä±ktÄ± almalÄ±sÄ±nÄ±z\ndocker ps docker ps -a komut Ã§Ä±ktÄ±sÄ±\nDocker Engine Ã¼stÃ¼nde bulunan containerâ€™larÄ± listeleyen komut. Ã–ntanÄ±mlÄ± olarak kapalÄ± ya da bir sebepten dolayÄ± durmuÅŸ olan containerâ€™lar gÃ¶sterilmez. Hepsini gÃ¶rebilmek iÃ§in bu komuta -a ya da --all parametresini vermelisiniz. Åimdi gelin bu komuttaki kolonlarÄ± adÄ±m adÄ±m inceleyelim:\nCONTAINER ID Ä°lgili containerâ€™a atanmÄ±ÅŸ benzersiz bir tanÄ±mlayÄ±cÄ±. Docker komutlarÄ±nÄ± kullanÄ±rken (Ã¶rneÄŸin silme iÅŸlemi iÃ§in) containerâ€™a referans vermek iÃ§in container adÄ±nÄ± kullanabileceÄŸiniz gibi bu IDâ€™yi de kullanabilirsiniz.\nIMAGE Containerâ€™Ä±n hangi imajdan tÃ¼rediÄŸini belirtir. :6.2-slim gibi belirteÃ§ler, o imajÄ±n sÃ¼rÃ¼m numarasÄ±nÄ± belirtir. SÃ¼rÃ¼m numarasÄ± belirtilmemiÅŸ imajlar ise Ã¶ntanÄ±mlÄ± olarak :latest yani en gÃ¼ncel sÃ¼rÃ¼m olarak kullanÄ±lmÄ±ÅŸ demek oluyor.\nCOMMAND Bir Ã¶nceki bÃ¶lÃ¼mde bahsettiÄŸim gibi containerâ€™lar iÃ§lerinde tek bir sÃ¼reÃ§ (process) Ã§alÄ±ÅŸtÄ±rmak Ã¼zere tasarlanÄ±yorlar. Ä°lgili containerâ€™Ä± Ã§alÄ±ÅŸtÄ±rmak iÃ§in hangi komutun kullanÄ±ldÄ±ÄŸÄ±nÄ± bu bÃ¶lÃ¼mden gÃ¶rebilirsiniz. Terminal penceresine sÄ±ÄŸabilmesi iÃ§in kÄ±saltÄ±lmÄ±ÅŸ formda gÃ¶sterilen bu komutlarÄ±n tam halini gÃ¶rmek iÃ§in --no-trunc parametresini (docker ps -a --no-trunc) kullanabilirsiniz.\nCREATED Containerâ€™Ä±n yaratÄ±ldÄ±ÄŸÄ± anÄ± ÅŸimdiki zamanÄ± baz alarak belirtir.\nSTATUS Container aÃ§Ä±ksa ne kadar sÃ¼redir Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± ÅŸimdiki zamanÄ± baz alarak belirtir ya da eÄŸer kapalÄ±ysa varsa Ã§Ä±kÄ±ÅŸ koduyla birlikte yine ÅŸimdiki zamanÄ± baz alarak kapanÄ±ÅŸ zamanÄ±nÄ± belirtir.\nPORTS Containerâ€™Ä±n aÃ§mak istediÄŸi eriÅŸim noktalarÄ±nÄ± (port) gÃ¶sterir. Her yÃ¶nlendirmedeki ilk kÄ±sÄ±m ev sahibi makinedeki (host), ikinci kÄ±sÄ±m ise containerâ€™Ä±n iÃ§indeki eriÅŸim noktasÄ±nÄ± gÃ¶sterir. Ekran gÃ¶rÃ¼ntÃ¼sÃ¼nde gÃ¶rÃ¼leceÄŸi Ã¼zere ilk containerâ€™da herhangi bir port yÃ¶nlendirmesi bulunmuyor. Ä°kincisinde ise ev sahibi makinenin tÃ¼m iletiÅŸim arabirimlerinden (interface) gelecek trafiÄŸe aÃ§Ä±k olacak ÅŸekilde 32769 numaralÄ± eriÅŸim noktasÄ±na, containerâ€™Ä±n 80. eriÅŸim noktasÄ±na; 32768 numaralÄ± eriÅŸim noktasÄ± ise containerâ€™Ä±n 443. eriÅŸim noktasÄ±na yÃ¶nlendirilmiÅŸ.\nNAMES Containerâ€™Ä±n ismi. Containerâ€™la ilgili bir komut vereceÄŸinizde bu isimle referans verebilirsiniz. Ä°sim atanmayanlara Docker tarafÄ±ndan otomatik olarak rastgele bir isim atanÄ±r.\nEÄŸer Mac ve Docker 1.11.x sÃ¼rÃ¼mÃ¼nÃ¼ kullanÄ±yorsanÄ±z, Dockerâ€™Ä± Virtualbox ya da VMWare gibi bir hypervisor iÃ§inde kullanÄ±yor olma ihtimaliniz yÃ¼ksek. Virtualbox kullandÄ±ÄŸÄ±nÄ±zÄ± varsayarsam, yukarÄ±daki eriÅŸim noktasÄ± yÃ¶nlendirmesinde ev sahibi makine sizin makineniz deÄŸil, Virtualbox iÃ§inde Ã§alÄ±ÅŸan makinedir. Bu durumda yukarÄ±daki Ã¶rnekte Ã§alÄ±ÅŸan nginxâ€™e, makinenizin IP adresiyle deÄŸil, Virtualboxâ€™ta aÃ§Ä±k olan sanal makinenin IP adresiyle (genelde 192.168.99.100) baÄŸlanmalÄ±sÄ±nÄ±z.\nÄ°pucu: Dilerseniz sanal makinenin IP adresini docker.local adÄ±yla /etc/hosts dosyasÄ±na ekleyerek IP adresi girme zahmetinden kurtulabilirsiniz.\nHenÃ¼z Docker 1.12â€™yi yÃ¼klemediyseniz mutlaka yÃ¼kleyin. Bu sayede macOSâ€™un dahili sanallaÅŸtÄ±rma Ã¶zelliklerinden faydalanÄ±yor; dolayÄ±sÄ±yla da daha verimli ve daha az gÃ¼Ã§ tÃ¼keterek Docker ile Ã§alÄ±ÅŸabiliyor olacaksÄ±nÄ±z. Bu sÃ¼rÃ¼mle birlikte gelen bir Ã§ok Ã¶zellikten serinin bir sonraki yazÄ±sÄ±nda bahsediyor olacaÄŸÄ±m. Bir Ã¼st paragraftan farklÄ± olarak; 1.12 sÃ¼rÃ¼mÃ¼nÃ¼ yÃ¼klediÄŸiniz takdirde, Ã§alÄ±ÅŸtÄ±racaÄŸÄ±nÄ±z tÃ¼m servisler doÄŸrudan localhost ya da 127.0.0.1 Ã¼stÃ¼nden eriÅŸilebilir olacaktÄ±r.\ndocker images docker images komut Ã§Ä±ktÄ±sÄ±\nDocker Engine iÃ§erisine indirilmiÅŸ (bknz: docker pull) imajlarÄ±n listesini dÃ¶ner. Bu imajlar Docker Hubâ€™dan indirilmiÅŸ ya da ev sahibi makine Ã¼stÃ¼nde oluÅŸturulmuÅŸ (bknz: docker build) olabilir. Yeni baÅŸlattÄ±ÄŸÄ±nÄ±z containerâ€™larÄ±n imajlarÄ± ve onlarÄ±n baz aldÄ±ÄŸÄ± disk imajlarÄ± burada listelenecektir. Container oluÅŸturulurken ya da baÅŸlatÄ±lÄ±rken baz alÄ±nan bir imaj bu listede bulunmuyorsa Ã¶ncelikle indirilecektir.\ndocker search tomcat Docker Hubâ€™daki tomcat imajlarÄ± arasÄ±nda arama yapmanÄ±zÄ± saÄŸlar. Komut Ã§Ä±ktÄ±sÄ±nda imajÄ±n adÄ±nÄ±, tanÄ±mÄ±nÄ±, kaÃ§ yÄ±ldÄ±z aldÄ±ÄŸÄ±nÄ± (popÃ¼lerliÄŸini), resmi olup olmadÄ±ÄŸÄ±nÄ± ve son olarak otomatik derlenip derlenmediÄŸini gÃ¶rebilirsiniz.\ndocker search tomcat komutunun Ã§Ä±ktÄ±sÄ±\nDocker Hubâ€™a tÃ¼m kullanÄ±cÄ±lar imaj atabildikleri iÃ§in mÃ¼mkÃ¼n olduÄŸunca resmi imajlarÄ± kullanÄ±yor olmanÄ±z Ã¶nem taÅŸÄ±yor. Resmi olmayan imajlarda ise otomatik derlenenleri tercih etmeniz daha doÄŸru olacaktÄ±r.\ndocker pull tomcat:8-jre8 Yeni bir container baÅŸlatabilmek iÃ§in Ã¶ncelikle o containerâ€™Ä±n Ã§alÄ±ÅŸacaÄŸÄ± imaja sahip olmalÄ±sÄ±nÄ±z. Serinin bir Ã¶nceki yazÄ±sÄ±ndaki â€œÄ°maj ne demek?â€ bÃ¶lÃ¼mÃ¼nde bahsettiÄŸim gibi, bir disk imajÄ± Ã§eÅŸitli katmanlardan oluÅŸuyor ve imaj deÄŸiÅŸtikÃ§e yeni katmanlar ekleniyor. Bu bilgiden yola Ã§Ä±karak; yukarÄ±daki komut ile Tomcat 8.xâ€™in Java 8 ile Ã§alÄ±ÅŸan son sÃ¼rÃ¼mÃ¼nÃ¼ tÃ¼m katmanlarÄ±yla indiriyoruz. Sondaki, : iÅŸaretinden sonraki kÄ±sÄ±m (8-jre8), indireceÄŸimiz imajÄ±n sÃ¼rÃ¼m kodunu ifade ediyor. SÃ¼rÃ¼m kodu olarak hiÃ§ bir ÅŸey yazmamÄ±ÅŸ olsaydÄ±k (docker pull tomcat) Ã¶ntanÄ±mlÄ± olarak :latest yazdÄ±ÄŸÄ±mÄ±z varsayÄ±lacak ve tomcatâ€™in son sÃ¼rÃ¼mÃ¼ indirilecekti.\nDiyelim ki; indirdiÄŸiniz zamandan bu yana Tomcat 8 Java 8â€™de bazÄ± deÄŸiÅŸiklikler yapÄ±ldÄ±. Bu komutu tekrar verdiÄŸinizde, Docker yalnÄ±zca bilgisayarÄ±nÄ±zda mevcut olan katmandan sonraki katmanlarÄ± indirerek iÅŸlemin Ã§ok daha hÄ±zlÄ± gerÃ§ekleÅŸmesini saÄŸlayacaktÄ±r.\nDiyelim ki; Tomcat 8 Java 8â€™i baz alan baÅŸka bir imajÄ± indireceksiniz. Bu durumda da Docker yalnÄ±zca bilgisayarÄ±nÄ±zda mevcut olan katmandan sonraki katmanlarÄ± inderecektir.\ndocker build -t registry.gitlab.com/tunix/alperkan.at:1.0.5 . Yeni bir container imajÄ± oluÅŸturmak iÃ§in bu komutu kullanabilirsiniz. Detaya inmeden belirteyim; bu komutun Ã§alÄ±ÅŸabilmesi iÃ§in projenin iÃ§inde en az bir adet Dockerfile bulunmasÄ± gerekiyor. Dockerfileâ€™la ilgili detaylarÄ± bu bÃ¶lÃ¼mÃ¼n ilerleyen kÄ±sÄ±mlarÄ±nda bulabilirsiniz.\n-t parametresiyle oluÅŸturduÄŸunuz sÃ¼rÃ¼mÃ¼ etiketlemiÅŸ oluyorsunuz. Yani bu durumda oluÅŸturduÄŸum imaj registry.gitlab.com/tunix/alperkan.at:1.0.5 adÄ±yla etiketlenmiÅŸ olacak. Sondakinin sÃ¼rÃ¼m numarasÄ± olduÄŸunu daha Ã¶nce belirtmiÅŸtim. Peki baÅŸtaki kÄ±sÄ±m neyin nesi?\nAslÄ±nda sadece alperkan.at:1.0.5 ÅŸeklinde de oluÅŸturabilirdim bu imajÄ±. Ve daha sonrasÄ±nda;\ndocker tag alperkan.at:1.0.5 registry.gitlab.com/tunix/alperkan.at:1.0.5 yapabilirdim. BaÅŸtan bu ÅŸekilde yapmamÄ±n ilk sebebi docker tag gibi ikinci bir komut vermemek. Bu ÅŸekilde etiketleme sebebim ise dockerâ€™da bir imajÄ± bir depoya yollayabilmemin tek yolunun, imajÄ±n adÄ±nÄ± o depoyla etiketlemek olmasÄ±. Bu durumda eÄŸer GitLab Container Registry yerine Ã¶rneÄŸin Docker Hub kullanacak olsaydÄ±m imajÄ±mÄ± docker.io/tunix/alperkan.at:1.0.5 olarak etiketlemem gerekecekti.\ndocker build komutu\ndocker build komutunun sonundaki nokta, imajÄ±n oluÅŸturulacaÄŸÄ± Dockerfile dosyasÄ±nÄ±n yerini belirtir. NoktanÄ±n karÅŸÄ±lÄ±ÄŸÄ± Bash ve ZSH gibi genel geÃ§er kabuklarda (shell) â€œbulunduÄŸum dizinâ€ demektir.\nYine Dockerfileâ€™dan bahsettiÄŸim bÃ¶lÃ¼mde anlatacaÄŸÄ±m ama ÅŸimdiden belirtmekte fayda var. Olur da herhangi bir sebepten dolayÄ± parametrik imaj oluÅŸturmanÄ±z gerekirse Dockerfileâ€™da deÄŸiÅŸken tanÄ±mlamanÄ±z ve bu deÄŸiÅŸkenin deÄŸerini docker build komutu iÃ§erisinde --build-arg parametreleriyle verebileceÄŸinizi belirteyim. Ã–rneÄŸin tek sayfalÄ±k web uygulamalarÄ±nda (Single Page Application), uygulamanÄ±n baÄŸlanacaÄŸÄ± ortamÄ± imajÄ± oluÅŸtururken verip geliÅŸtirme ve test ortamÄ±na baÄŸlanan 2 farklÄ± imaj yaratabilirsiniz:\ndocker build -t example.com/web:1.0.0 \\ --build-arg SERVICE_URL=â€http://dev.example.comâ€ \\ --build-arg SERVICE_CONFIG=dev . docker push registry.gitlab.com/tunix/alperkan.at:1.0.5 BilgisayarÄ±nÄ±zda oluÅŸturduÄŸunuz imajÄ± uzaktaki depoya yÃ¼klemenizi saÄŸlar. EÄŸer yÃ¼kleyeceÄŸiniz depo, giriÅŸ yapmanÄ±zÄ± gerektiriyorsa, bu komuttan Ã¶nce:\ndocker login registry.gitlab.com komutuyla giriÅŸ yapmanÄ±z gerekir. Bu komut, ev dizininizdeki .docker/config.json dosyasÄ±nÄ± yoksa oluÅŸturacak ve giriÅŸ yapmanÄ±zÄ± gerektiren komutlarda kullanmanÄ±z gereken ayÄ±rt edici ÅŸifreyi iÃ§ine kullandÄ±ÄŸÄ±nÄ±z depo adresiyle birlikte yazacaktÄ±r.\nKullandÄ±ÄŸÄ±m Ã¶rneklerde GitLab Container Registry kullandÄ±ÄŸÄ±m iÃ§in registry.gitlab.com adresini kullanÄ±yorum. Docker Hub ya da farklÄ± bir depo ile Ã§alÄ±ÅŸÄ±yorsanÄ±z komutta deÄŸiÅŸiklik yapmalÄ±sÄ±nÄ±z.\ndocker push komutuyla bilgisayarÄ±nÄ±zdaki imaj iÃ§in oluÅŸturulan tÃ¼m katmanlar (baz alÄ±nan katmanlar depoda yÃ¼klÃ¼yse atlanarak) karÅŸÄ± taraftaki depoya yÃ¼klenecektir. Bu sayede imaja ihtiyaÃ§ duyan her yerde docker pull komutunu kullanarak imajÄ± indirebilir ve bu imajdan containerâ€™lar oluÅŸturabilirsiniz.\ndocker rmi registry.gitlab.com/tunix/alperkan.at:1.0.5 Ä°maj silmek iÃ§in bu komutu kullanabilirsiniz. Silinecek imajda sÃ¼rÃ¼m numarasÄ± bulunuyorsa Ã¶zel olarak belirtmelisiniz. latest olarak etiketlenmiÅŸ bir imajÄ± silmek iÃ§in herhangi bir sÃ¼rÃ¼m belirtmeniz gerekmez.\nBu arada imajÄ±n IDâ€™sini biliyorsanÄ±z (bknz: docker images) doÄŸrudan onu da kullanabilirsiniz:\ndocker rmi f24630ebe597 docker run â€¦ BilgisayarÄ±nÄ±za indirdiÄŸiniz bir imajdan bir adet container Ã§alÄ±ÅŸtÄ±rmanÄ±zÄ± saÄŸlar. Ã‡alÄ±ÅŸtÄ±racaÄŸÄ±nÄ±z yazÄ±lÄ±ma gÃ¶re, docker runâ€™a vereceÄŸiniz parametreler de deÄŸiÅŸiklik gÃ¶sterecektir. Gelin, bir kaÃ§ Ã¶rnek Ã¼stÃ¼nden ilerleyelim.\ndocker run -it --rm ubuntu /bin/bash Bu komutla, yukarÄ±da bahsettiÄŸim gibi; eÄŸer makinenizde Ubuntuâ€™nun son sÃ¼rÃ¼mÃ¼ yoksa indirilecek ve interaktif modda (-it sayesinde) Bash kabuÄŸu aÃ§Ä±lÄ±p sizden komut yazmanÄ±zÄ± bekleyecektir. Komut satÄ±rÄ±ndan Ã§Ä±kÄ±ÅŸ yaptÄ±ÄŸÄ±nÄ±zda container otomatik olarak silinecektir. (--rm sayesinde) Peki ne iÅŸe yarar? AklÄ±ma gelen bazÄ± Ã¶rnekler:\nMakinenize kurmak istemediÄŸiniz ya da kurmasÄ± zorlu olan yazÄ±lÄ±mlarla hÄ±zlÄ± denemeler/testler yapabilirsiniz. Ã–rneÄŸin hÄ±zlÄ± bir ownCloud denemesi yapabilir ya da elinizdeki veri setini MySQLâ€™e hÄ±zlÄ±ca aktarÄ±p Ã¼stÃ¼nde iÅŸlemler yapÄ±p Ã§Ä±ktÄ±sÄ±nÄ± makinenize kaydedip containerâ€™Ä± uÃ§urabilirsiniz. BaÅŸka bir iÅŸletim sisteminde Ã§alÄ±ÅŸan bir yazÄ±lÄ±mÄ± sanki yerel bir uygulamaymÄ±ÅŸ gibi Ã§alÄ±ÅŸtÄ±rabilirsiniz. (macOSâ€™de olmayan komut satÄ±rÄ± araÃ§larÄ±nÄ± Ã§alÄ±ÅŸtÄ±rmak vb.) Ã–rneÄŸin Tomcat Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zÄ± varsayarsak (docker run -it --rm tomcat /bin/bash) imaj iÃ§inde neyin nasÄ±l yapÄ±ldÄ±ÄŸÄ±nÄ±/yerleÅŸtirildiÄŸini inceleyebilir ve denemeler yapabilirsiniz. docker run -d --name deneme --restart=always -p 3000:3000 alperkan.at:1.0.5 SÄ±rasÄ±yla parametrelerin Ã¼stÃ¼nden geÃ§ersek;\n-d: Ä°nteraktif modun aksine containerâ€™Ä±n arkaplanda Ã§alÄ±ÅŸmasÄ±nÄ± saÄŸlar. --name: Ã‡alÄ±ÅŸan containerâ€™a istediÄŸiniz bir ismin atanmasÄ±nÄ±, bÃ¶ylece kolaylÄ±kla ulaÅŸabilmenizi saÄŸlar. --restart=always: Docker Engineâ€™in ya da containerâ€™Ä±n herhangi bir ÅŸekilde kapanmasÄ± sonrasÄ±nda otomatik olarak yeniden baÅŸlatÄ±lmasÄ±nÄ± saÄŸlar. DiÄŸer olasÄ± deÄŸerler: no, on-failure:5, unless-stopped -p 3000:3000: Ev sahibi makinedeki 3000. baÄŸlantÄ± noktasÄ±nÄ±, container iÃ§erisindeki 3000. porta yÃ¶nlendirir. Alternatif olarak yalnÄ±zca -P yazmanÄ±z halinde containerâ€™Ä±n aÃ§Ä±lmasÄ± istenen tÃ¼m baÄŸlantÄ± noktalarÄ±, ev sahibi Ã¼stÃ¼ndeki rastgele baÄŸlantÄ± noktalarÄ±na yÃ¶nlendirilir. Pro Tip: Ã–zellikle Ã¶lÃ§eklenebilirliÄŸin Ã¶nemli olduÄŸu durumlarda -P kullanmak daha doÄŸrudur.\nBu komutla beraber kullanÄ±labilecek diÄŸer bazÄ± Ã¶nemli parametreler ise ÅŸÃ¶yle:\n-e: Container iÃ§erisinde Ã§evresel deÄŸiÅŸkenler tanÄ±mlamak iÃ§in kullanÄ±lÄ±r. Bu sayede Ã§alÄ±ÅŸma esnasÄ±nda uygulamanÄ±n davranÄ±ÅŸÄ±nÄ± deÄŸiÅŸtirebilir, kritik parametreleri dÄ±ÅŸarÄ±dan saÄŸlayabilir ya da Ã¶rneÄŸin MySQL, Tomcat vb. uygulamalarÄ±n yetkili kullanÄ±cÄ± adÄ±nÄ± veya ÅŸifresini dÄ±ÅŸarÄ±dan tanÄ±mlayabilirsiniz. TanÄ±mlamak istediÄŸiniz her Ã§evresel deÄŸiÅŸken iÃ§in ayrÄ± ayrÄ± -e parametreleri tanÄ±mlayabilirsiniz. (Ã¶r: -e MYSQL_ROOT_PASSWORD=test) Container imajlarÄ±nÄ±n deÄŸiÅŸtirilmezlik ilkesini gÃ¶z Ã¶nÃ¼nde bulundurarak; Ã§evresel deÄŸiÅŸkenlerin en Ã¶nemli Ã¶zelliklerden biri olduÄŸunu vurgulamalÄ±yÄ±m. Serinin ilerleyen bÃ¶lÃ¼mlerinde gerÃ§ek Ã¶rneklerle nasÄ±l kullanabileceÄŸimizi gÃ¶receÄŸiz.\n-v: Container iÃ§erisindeki bir dizin ya da dosyayÄ±, ev sahibi makine Ã¼stÃ¼ndeki bir dizine baÄŸlamak iÃ§in kullanÄ±lÄ±r. BaÄŸlamak istediÄŸiniz her dizin ve dosya iÃ§in ayrÄ± ayrÄ± -v parametresi tanÄ±mlayabilirsiniz. (Ã¶r: -v /home/alper/tomcat/webapps:/opt/tomcat/webapps) UnutulmamasÄ± gereken kÄ±sÄ±m; bu komutun kullanÄ±lmasÄ± durumunda containerâ€™Ä±n dÄ±ÅŸa baÄŸÄ±mlÄ± hale geliyor olmasÄ± ve imajÄ±n deÄŸiÅŸtirilmezlik ilkesine aslÄ±nda ters olduÄŸu.\n-l: Containerâ€™a Ã§eÅŸitli etiketler atamanÄ±zÄ± saÄŸlar. (Ã¶r: -l TYPE=web -l PRIORITY=1) TanÄ±mlamak istediÄŸiniz her etiket iÃ§in ayrÄ± ayrÄ± -l tanÄ±mÄ± yapabilirsiniz. Ã–zellikle Ã¶lÃ§eklenebilirliÄŸin Ã¶nemli olduÄŸu durumlarda Docker Engineâ€™in kendisine ve containerâ€™lara etiketler atamak oldukÃ§a bÃ¼yÃ¼k Ã¶nem arz ediyor.\n-u: Ã‡alÄ±ÅŸacak containerâ€™Ä±n hangi kullanÄ±cÄ±yla Ã§alÄ±ÅŸacaÄŸÄ±nÄ± belirler. Ã–ntanÄ±mlÄ± olarak her container root yetkileriyle Ã§alÄ±ÅŸÄ±yor ve bu durum aslÄ±na bakarsanÄ±z gÃ¼venlik aÃ§Ä±klarÄ±na sebebiyet verebiliyor. Bu nedenle containerâ€™larÄ± mÃ¼mkÃ¼nse yetkisiz kullanÄ±cÄ±larla Ã§alÄ±ÅŸtÄ±rmalÄ±sÄ±nÄ±z. Serinin ilerleyen bÃ¶lÃ¼mlerinde bahsedeceÄŸim Dockerfileâ€™lar sayesinde bu adÄ±mÄ± Ã§alÄ±ÅŸtÄ±rma esnasÄ±nda parametre vermeksizin geÃ§iÅŸtirebilirsiniz.\ndocker run komutuna bunlarÄ±n dÄ±ÅŸÄ±nda verebileceÄŸiniz daha pek Ã§ok parametre bulunuyor. Ã–rneÄŸin; Ã§alÄ±ÅŸtÄ±racaÄŸÄ±nÄ±z containerâ€™a ayrÄ±lacak CPU ve belleÄŸi belirtebileceÄŸiniz gibi disk okuma/yazma hÄ±zÄ±nÄ± ya da hangi aÄŸa eriÅŸeceÄŸini ayarlayabilirsiniz. TÃ¼m bu detaylarÄ± bu yazÄ±nÄ±n baÅŸÄ±nda belirttiÄŸim gibi; docker run --help komutuyla Ã¶ÄŸrenebilirsiniz.\ndocker logs â€“tail 20 -f alperkan.at Docker containerâ€™larÄ± genellikle yalnÄ±zca tek bir sÃ¼reÃ§ Ã§alÄ±ÅŸtÄ±racak ve temel Ã§Ä±ktÄ±ya (stdout) bir ÅŸeyler basacak ÅŸekilde tasarlanÄ±rlar. Temel Ã§Ä±ktÄ±ya basÄ±lan iÅŸlem kayÄ±tlarÄ±na bu komutla ulaÅŸabilirsiniz. Ã–rneÄŸin bir nginx containerâ€™Ä± baÅŸlatÄ±rsanÄ±z; access.logâ€™u bu komutla takip edebilirsiniz.\n--tail: En son N satÄ±rdan itibaren Ã§Ä±ktÄ±yÄ± ekrana getirir. -f: Komut iptal edilene kadar (Ctrl-C) Ã§Ä±ktÄ±yÄ± takip etmeye devam eder.\ndocker exec -it alperkan.at ls -l /srv Ã‡alÄ±ÅŸan (hali hazÄ±rda Ã§alÄ±ÅŸmayan bir containerâ€™da bu komutu kullanamazsÄ±nÄ±z) bir container iÃ§inde komutlar Ã§alÄ±ÅŸtÄ±rmanÄ±zÄ± saÄŸlayan bu komutu yalnÄ±zca container imajÄ±nÄ± hazÄ±rlarken ya da containerâ€™daki sorunlarÄ± anlamaya Ã§alÄ±ÅŸÄ±rken kullanmalÄ±sÄ±nÄ±z.\nBu komutu genellikle docker logs ile takip edemediÄŸiniz farklÄ± log dosyalarÄ±nÄ± takip etmek ya da kabuk baÅŸlatÄ±p daha ileri seviye iÅŸler yapmak iÃ§in kullanabilirsiniz. Ä°htiyacÄ±nÄ±z olabilecek Ã¶rnek komutlar:\ndocker exec -it nginx-proxy tail -F /var/log/nginx/error.log docker exec -it alperkan.at /bin/bash docker cp ~/Desktop/data.json alperkan.at:/srv/data/me.json BilgisayarÄ±nÄ±zdaki bir dosyayÄ±/dizini containerâ€™a ya da containerâ€™daki bir dosyayÄ±/dizini bilgisayarÄ±nÄ±za kopyalamanÄ±zÄ± saÄŸlar.\n-L: OlasÄ± sembolik dosya ve dizinlerin de doÄŸru ÅŸekilde kopyalanmasÄ±nÄ± garantiler.\ndocker stop alperkan.at Ã‡alÄ±ÅŸan bir containerâ€™Ä± durdurmanÄ±zÄ± saÄŸlar. Bazen bir containerâ€™a daha sonra tekrar ihtiyacÄ±nÄ±z olabilir. Bu tip durumlarda durdurup sonra tekrar docker start komutuyla ayaÄŸa kaldÄ±rabilirsiniz.\n-t: Container kapanmakta gecikirse bu komutu vererek N saniye geÃ§tikten sonra Ã¶ldÃ¼rÃ¼lmesini saÄŸlayabilirsiniz.\ndocker start alperkan.at docker stop komutuyla durdurduÄŸunuz bir containerâ€™Ä± yeniden baÅŸlatmanÄ±zÄ± saÄŸlar.\n-a: Containerâ€™Ä± baÅŸlattÄ±ktan sonra temel Ã§Ä±ktÄ±sÄ±nÄ±n bulunduÄŸunuz kabuk oturumuna baÄŸlanmasÄ±nÄ± saÄŸlar.\ndocker inspect alperkan.at Ã‡alÄ±ÅŸan containerâ€™la ilgili Ã§ok detaylÄ± bilgilere ulaÅŸmanÄ±zÄ± saÄŸlar. Bu komutla Ã¶rneÄŸin; containerâ€™da Ã§alÄ±ÅŸan Ã§evresel deÄŸiÅŸkenlere, tanÄ±mlanmÄ±ÅŸ baÄŸlantÄ± noktalarÄ±na, baÄŸlanmÄ±ÅŸ disk alanlarÄ±na ve daha pek Ã§ok bilgiye ulaÅŸabilirsiniz.\nPro Tip: Bu komuta Ã§Ä±ktÄ±sÄ± iÃ§erisinde rahatÃ§a dolaÅŸabilmek ve arama yapabilmek iÃ§in |less eklemek isteyebilirsiniz.\nSerinin bu bÃ¶lÃ¼mÃ¼nÃ¼n de sonuna geldik. Bir sonraki bÃ¶lÃ¼m olan Docker Engine BÃ¶lÃ¼m 2â€™de kalÄ±cÄ± veri depolama, Ã§evresel deÄŸiÅŸkenler, baÄŸlantÄ± noktalarÄ±, Dockerfile, kendi imajÄ±nÄ±zÄ± hazÄ±rlamak, Docker Hub \u0026 Registry ve son olarak kendi Ã¶zel Docker Hubâ€™Ä±nÄ±za nasÄ±l sahip olabileceÄŸinizden bahsedeceÄŸim.\nGidiÅŸÃ¢ta gÃ¶re bu planda zaman zaman deÄŸiÅŸiklikler yapacak olsam da serinin tÃ¼m bÃ¶lÃ¼mlerinin planÄ±na ÅŸuradan ulaÅŸabilirsiniz.\nKatkÄ±larÄ±ndan dolayÄ± Åamil Canâ€™a teÅŸekkÃ¼rler! Serinin bir sonraki bÃ¶lÃ¼mÃ¼nde gÃ¶rÃ¼ÅŸmek Ã¼zere! âœŒï¸\n",
  "wordCount" : "2073",
  "inLanguage": "tr",
  "datePublished": "2016-09-26T00:00:00Z",
  "dateModified": "2021-04-25T00:40:03+03:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://alperkan.at/tr/2016/09/docker-serisi-2/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Alper Kanat",
    "logo": {
      "@type": "ImageObject",
      "url": "https://alperkan.at/favicon.ico"
    }
  }
}
</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://alperkan.at/tr/ accesskey=h title="Alper Kanat (Alt + H)">Alper Kanat</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://alperkan.at/ title=ğŸ‡¬ğŸ‡§ aria-label=ğŸ‡¬ğŸ‡§>En</a></li></ul></span></div><ul id=menu><li><a href=https://alperkan.at/tr/arsiv title=arÅŸiv><span>arÅŸiv</span></a></li><li><a href=https://alperkan.at/tr/tags title=etiketler><span>etiketler</span></a></li><li><a href=https://alperkan.at/tr/hakkimda title=hakkÄ±mda><span>hakkÄ±mda</span></a></li><li><a href=https://github.com/tunix/notebook title=notlarÄ±m><span>notlarÄ±m</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Docker Serisi #2 -- Docker Engine BÃ¶lÃ¼m 1</h1><div class=post-meta>September 26, 2016</div></header><div class=post-content><p>Docker Serisiâ€™nin <a href=https://alperkan.at/tr/2016/07/docker-serisi-1/>ilk bÃ¶lÃ¼mÃ¼nde</a> sanallaÅŸtÄ±rmanÄ±n ne olduÄŸundan, container
teknolojisinden ve temel Docker kavramlarÄ±ndan bahsetmiÅŸtim. Serinin bu bÃ¶lÃ¼mÃ¼nde temel Docker komutlarÄ±nÄ±n
kullanÄ±lmasÄ±ndan bahsedeceÄŸim. HazÄ±rsanÄ±z baÅŸlayalÄ±m! ğŸ™‚</p><h3 id=docker-cmd->docker &lt;cmd> &mldr;<a hidden class=anchor aria-hidden=true href=#docker-cmd->#</a></h3><p>Ã–ncelikle tÃ¼m docker komutlarÄ± <strong>docker</strong> kelimesiyle baÅŸlÄ±yor. Serinin sonraki bÃ¶lÃ¼mlerinde bahsedeceÄŸim eklentiler
ise <strong>docker-</strong> Ã¶n ekiyle <em>(docker-compose, docker-swarm gibi..)</em> baÅŸlÄ±yorlar. HiÃ§ bir parametre vermeden yalnÄ±zca bu
komutlarÄ± yazacak olursanÄ±z ilgili komuta ait yardÄ±m metinleri ekranÄ±nÄ±za Ã§Ä±kacaktÄ±r. DolayÄ±sÄ±yla dockerâ€™Ä± ya da
eklentilerini kurduktan sonra, kurulumunuzun baÅŸarÄ±lÄ± olduÄŸunu anlamak iÃ§in ilk yapmanÄ±z gereken ÅŸey herhangi bir
parametre vermeden Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zda yardÄ±m metinlerini gÃ¶rÃ¼p gÃ¶remediÄŸiniz olmalÄ±.</p><p>Docker komutlarÄ± <code>info</code>, <code>build</code>, <code>exec</code>, <code>ps</code>, <code>rm</code>, <code>run</code> gibi kelimelerden oluÅŸuyor ve bir Ã¼st paragrafta
bahsettiÄŸim yardÄ±m metinlerinde tam listesini gÃ¶rebilirsiniz. Bu komutlarÄ±n yardÄ±m metinlerine ise</p><blockquote><p><code>docker help build</code> ya da
<code>docker build -h</code> ya da
<code>docker build --help</code></p></blockquote><p>yazarak ulaÅŸabilirsiniz. ÃœÃ§Ã¼ de aynÄ± Ã§Ä±ktÄ±yÄ± verecektir. Her komutu kullanmadan Ã¶nce baÅŸka neler yapabileceÄŸinizi
anlamak/Ã¶ÄŸrenmek iÃ§in bu komutlarÄ± yazarak denemeler yapmanÄ±z faydalÄ± olacaktÄ±r. Serinin tÃ¼m yazÄ±larÄ±nda yalnÄ±zca sÄ±k
kullanÄ±lan parametreleri anlatÄ±yor olacaÄŸÄ±m.</p><p>Devam etmeden Ã¶nce docker kurulumunuzun baÅŸarÄ±lÄ± olduÄŸundan ve Ã§alÄ±ÅŸtÄ±ÄŸÄ±ndan emin olmak iÃ§in <code>docker info</code> komutunu
verin:</p><figure><img loading=lazy src=docker_info_ciktisi.png alt="docker info komutunu verdiÄŸinizde buna benzer bir Ã§Ä±ktÄ± almalÄ±sÄ±nÄ±z"><figcaption><p><code>docker info</code> komutunu verdiÄŸinizde buna benzer bir Ã§Ä±ktÄ± almalÄ±sÄ±nÄ±z</p></figcaption></figure><h3 id=docker-ps>docker ps<a hidden class=anchor aria-hidden=true href=#docker-ps>#</a></h3><figure><img loading=lazy src=docker_ps_a_ciktisi.png alt="docker ps -a komut Ã§Ä±ktÄ±sÄ±"><figcaption><p><code>docker ps -a</code> komut Ã§Ä±ktÄ±sÄ±</p></figcaption></figure><p>Docker Engine Ã¼stÃ¼nde bulunan containerâ€™larÄ± listeleyen komut. Ã–ntanÄ±mlÄ± olarak kapalÄ± ya da bir sebepten dolayÄ±
durmuÅŸ olan containerâ€™lar gÃ¶sterilmez. Hepsini gÃ¶rebilmek iÃ§in bu komuta <code>-a</code> ya da <code>--all</code> parametresini vermelisiniz.
Åimdi gelin bu komuttaki kolonlarÄ± adÄ±m adÄ±m inceleyelim:</p><h4 id=container-id>CONTAINER ID<a hidden class=anchor aria-hidden=true href=#container-id>#</a></h4><p>Ä°lgili containerâ€™a atanmÄ±ÅŸ benzersiz bir tanÄ±mlayÄ±cÄ±. Docker komutlarÄ±nÄ± kullanÄ±rken (Ã¶rneÄŸin silme iÅŸlemi iÃ§in)
containerâ€™a referans vermek iÃ§in container adÄ±nÄ± kullanabileceÄŸiniz gibi bu IDâ€™yi de kullanabilirsiniz.</p><h4 id=image>IMAGE<a hidden class=anchor aria-hidden=true href=#image>#</a></h4><p>Containerâ€™Ä±n hangi imajdan tÃ¼rediÄŸini belirtir. <code>:6.2-slim</code> gibi belirteÃ§ler, o imajÄ±n sÃ¼rÃ¼m numarasÄ±nÄ± belirtir.
SÃ¼rÃ¼m numarasÄ± belirtilmemiÅŸ imajlar ise Ã¶ntanÄ±mlÄ± olarak <code>:latest</code> yani en gÃ¼ncel sÃ¼rÃ¼m olarak kullanÄ±lmÄ±ÅŸ demek
oluyor.</p><h4 id=command>COMMAND<a hidden class=anchor aria-hidden=true href=#command>#</a></h4><p><a href=https://alperkan.at/tr/2016/07/docker-serisi-1/>Bir Ã¶nceki bÃ¶lÃ¼mde</a> bahsettiÄŸim gibi containerâ€™lar iÃ§lerinde tek bir sÃ¼reÃ§ (process)
Ã§alÄ±ÅŸtÄ±rmak Ã¼zere tasarlanÄ±yorlar. Ä°lgili containerâ€™Ä± Ã§alÄ±ÅŸtÄ±rmak iÃ§in hangi komutun kullanÄ±ldÄ±ÄŸÄ±nÄ± bu bÃ¶lÃ¼mden
gÃ¶rebilirsiniz. Terminal penceresine sÄ±ÄŸabilmesi iÃ§in kÄ±saltÄ±lmÄ±ÅŸ formda gÃ¶sterilen bu komutlarÄ±n tam halini gÃ¶rmek
iÃ§in <code>--no-trunc</code> parametresini (<code>docker ps -a --no-trunc</code>) kullanabilirsiniz.</p><h4 id=created>CREATED<a hidden class=anchor aria-hidden=true href=#created>#</a></h4><p>Containerâ€™Ä±n yaratÄ±ldÄ±ÄŸÄ± anÄ± ÅŸimdiki zamanÄ± baz alarak belirtir.</p><h4 id=status>STATUS<a hidden class=anchor aria-hidden=true href=#status>#</a></h4><p>Container aÃ§Ä±ksa ne kadar sÃ¼redir Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± ÅŸimdiki zamanÄ± baz alarak belirtir ya da eÄŸer kapalÄ±ysa varsa Ã§Ä±kÄ±ÅŸ
koduyla birlikte yine ÅŸimdiki zamanÄ± baz alarak kapanÄ±ÅŸ zamanÄ±nÄ± belirtir.</p><h4 id=ports>PORTS<a hidden class=anchor aria-hidden=true href=#ports>#</a></h4><p>Containerâ€™Ä±n aÃ§mak istediÄŸi eriÅŸim noktalarÄ±nÄ± (port) gÃ¶sterir. Her yÃ¶nlendirmedeki ilk kÄ±sÄ±m ev sahibi makinedeki
(host), ikinci kÄ±sÄ±m ise containerâ€™Ä±n iÃ§indeki eriÅŸim noktasÄ±nÄ± gÃ¶sterir. Ekran gÃ¶rÃ¼ntÃ¼sÃ¼nde gÃ¶rÃ¼leceÄŸi Ã¼zere ilk
containerâ€™da herhangi bir port yÃ¶nlendirmesi bulunmuyor. Ä°kincisinde ise ev sahibi makinenin tÃ¼m iletiÅŸim
arabirimlerinden (interface) gelecek trafiÄŸe aÃ§Ä±k olacak ÅŸekilde 32769 numaralÄ± eriÅŸim noktasÄ±na, containerâ€™Ä±n 80.
eriÅŸim noktasÄ±na; 32768 numaralÄ± eriÅŸim noktasÄ± ise containerâ€™Ä±n 443. eriÅŸim noktasÄ±na yÃ¶nlendirilmiÅŸ.</p><h4 id=names>NAMES<a hidden class=anchor aria-hidden=true href=#names>#</a></h4><p>Containerâ€™Ä±n ismi. Containerâ€™la ilgili bir komut vereceÄŸinizde bu isimle referans verebilirsiniz. Ä°sim atanmayanlara
Docker tarafÄ±ndan otomatik olarak rastgele bir isim atanÄ±r.</p><p>EÄŸer Mac ve Docker 1.11.x sÃ¼rÃ¼mÃ¼nÃ¼ kullanÄ±yorsanÄ±z, Dockerâ€™Ä± Virtualbox ya da VMWare gibi bir hypervisor iÃ§inde
kullanÄ±yor olma ihtimaliniz yÃ¼ksek. Virtualbox kullandÄ±ÄŸÄ±nÄ±zÄ± varsayarsam, yukarÄ±daki eriÅŸim noktasÄ± yÃ¶nlendirmesinde
ev sahibi makine sizin makineniz deÄŸil, Virtualbox iÃ§inde Ã§alÄ±ÅŸan makinedir. Bu durumda yukarÄ±daki Ã¶rnekte Ã§alÄ±ÅŸan
nginxâ€™e, makinenizin IP adresiyle deÄŸil, Virtualboxâ€™ta aÃ§Ä±k olan sanal makinenin IP adresiyle (genelde 192.168.99.100)
baÄŸlanmalÄ±sÄ±nÄ±z.</p><blockquote><p>Ä°pucu: Dilerseniz sanal makinenin IP adresini docker.local adÄ±yla /etc/hosts dosyasÄ±na ekleyerek IP adresi girme
zahmetinden kurtulabilirsiniz.</p></blockquote><p>HenÃ¼z Docker 1.12&rsquo;yi yÃ¼klemediyseniz mutlaka yÃ¼kleyin. Bu sayede macOSâ€™un dahili sanallaÅŸtÄ±rma Ã¶zelliklerinden
faydalanÄ±yor; dolayÄ±sÄ±yla da daha verimli ve daha az gÃ¼Ã§ tÃ¼keterek Docker ile Ã§alÄ±ÅŸabiliyor olacaksÄ±nÄ±z. Bu sÃ¼rÃ¼mle
birlikte gelen bir Ã§ok Ã¶zellikten serinin bir sonraki yazÄ±sÄ±nda bahsediyor olacaÄŸÄ±m. <strong>Bir Ã¼st paragraftan farklÄ±
olarak; 1.12 sÃ¼rÃ¼mÃ¼nÃ¼ yÃ¼klediÄŸiniz takdirde, Ã§alÄ±ÅŸtÄ±racaÄŸÄ±nÄ±z tÃ¼m servisler doÄŸrudan localhost ya da 127.0.0.1
Ã¼stÃ¼nden eriÅŸilebilir olacaktÄ±r.</strong></p><h3 id=docker-images>docker images<a hidden class=anchor aria-hidden=true href=#docker-images>#</a></h3><figure><img loading=lazy src=docker_images_ciktisi.png alt="docker images komut Ã§Ä±ktÄ±sÄ±"><figcaption><p><code>docker images</code> komut Ã§Ä±ktÄ±sÄ±</p></figcaption></figure><p>Docker Engine iÃ§erisine indirilmiÅŸ (bknz: <a href=#docker-pull-tomcat8-jre8>docker pull</a>) imajlarÄ±n listesini
dÃ¶ner. Bu imajlar Docker Hubâ€™dan indirilmiÅŸ ya da ev sahibi makine Ã¼stÃ¼nde oluÅŸturulmuÅŸ
(bknz: <a href=#docker-build--t-registrygitlabcomtunixalperkanat105->docker build</a>) olabilir. Yeni
baÅŸlattÄ±ÄŸÄ±nÄ±z containerâ€™larÄ±n imajlarÄ± ve onlarÄ±n baz aldÄ±ÄŸÄ± disk imajlarÄ± burada listelenecektir. Container
oluÅŸturulurken ya da baÅŸlatÄ±lÄ±rken baz alÄ±nan bir imaj bu listede bulunmuyorsa Ã¶ncelikle indirilecektir.</p><h3 id=docker-search-tomcat>docker search tomcat<a hidden class=anchor aria-hidden=true href=#docker-search-tomcat>#</a></h3><p><a href=https://hub.docker.com/>Docker Hub</a>â€™daki tomcat imajlarÄ± arasÄ±nda arama yapmanÄ±zÄ± saÄŸlar. Komut Ã§Ä±ktÄ±sÄ±nda imajÄ±n
adÄ±nÄ±, tanÄ±mÄ±nÄ±, kaÃ§ yÄ±ldÄ±z aldÄ±ÄŸÄ±nÄ± (popÃ¼lerliÄŸini), resmi olup olmadÄ±ÄŸÄ±nÄ± ve son olarak otomatik derlenip
derlenmediÄŸini gÃ¶rebilirsiniz.</p><figure><img loading=lazy src=docker_search_tomcat_ciktisi.png alt="docker search tomcat komutunun Ã§Ä±ktÄ±sÄ±"><figcaption><p><code>docker search tomcat</code> komutunun Ã§Ä±ktÄ±sÄ±</p></figcaption></figure><p><a href=https://hub.docker.com/>Docker Hub</a>â€™a tÃ¼m kullanÄ±cÄ±lar imaj atabildikleri iÃ§in mÃ¼mkÃ¼n olduÄŸunca resmi imajlarÄ±
kullanÄ±yor olmanÄ±z Ã¶nem taÅŸÄ±yor. Resmi olmayan imajlarda ise otomatik derlenenleri tercih etmeniz daha doÄŸru olacaktÄ±r.</p><h3 id=docker-pull-tomcat8-jre8>docker pull tomcat:8-jre8<a hidden class=anchor aria-hidden=true href=#docker-pull-tomcat8-jre8>#</a></h3><p>Yeni bir container baÅŸlatabilmek iÃ§in Ã¶ncelikle o containerâ€™Ä±n Ã§alÄ±ÅŸacaÄŸÄ± imaja sahip olmalÄ±sÄ±nÄ±z. Serinin bir Ã¶nceki
yazÄ±sÄ±ndaki â€œ<a href=https://alperkan.at/tr/2016/07/docker-serisi-1/#imaj-ne-demek>Ä°maj ne demek?</a>â€ bÃ¶lÃ¼mÃ¼nde bahsettiÄŸim gibi, bir disk imajÄ±
Ã§eÅŸitli katmanlardan oluÅŸuyor ve imaj deÄŸiÅŸtikÃ§e yeni katmanlar ekleniyor. Bu bilgiden yola Ã§Ä±karak; yukarÄ±daki komut
ile Tomcat 8.xâ€™in Java 8 ile Ã§alÄ±ÅŸan son sÃ¼rÃ¼mÃ¼nÃ¼ tÃ¼m katmanlarÄ±yla indiriyoruz. Sondaki, : iÅŸaretinden sonraki kÄ±sÄ±m
(<code>8-jre8</code>), indireceÄŸimiz imajÄ±n sÃ¼rÃ¼m kodunu ifade ediyor. SÃ¼rÃ¼m kodu olarak hiÃ§ bir ÅŸey yazmamÄ±ÅŸ olsaydÄ±k
(<code>docker pull tomcat</code>) Ã¶ntanÄ±mlÄ± olarak <code>:latest</code> yazdÄ±ÄŸÄ±mÄ±z varsayÄ±lacak ve tomcatâ€™in son sÃ¼rÃ¼mÃ¼ indirilecekti.</p><p>Diyelim ki; indirdiÄŸiniz zamandan bu yana Tomcat 8 Java 8&rsquo;de bazÄ± deÄŸiÅŸiklikler yapÄ±ldÄ±. Bu komutu tekrar
verdiÄŸinizde, Docker yalnÄ±zca bilgisayarÄ±nÄ±zda mevcut olan katmandan sonraki katmanlarÄ± indirerek iÅŸlemin Ã§ok daha
hÄ±zlÄ± gerÃ§ekleÅŸmesini saÄŸlayacaktÄ±r.</p><p>Diyelim ki; Tomcat 8 Java 8&rsquo;i baz alan baÅŸka bir imajÄ± indireceksiniz. Bu durumda da Docker yalnÄ±zca bilgisayarÄ±nÄ±zda
mevcut olan katmandan sonraki katmanlarÄ± inderecektir.</p><h3 id=docker-build--t-registrygitlabcomtunixalperkanat105->docker build -t registry.gitlab.com/tunix/alperkan.at:1.0.5 .<a hidden class=anchor aria-hidden=true href=#docker-build--t-registrygitlabcomtunixalperkanat105->#</a></h3><p>Yeni bir container imajÄ± oluÅŸturmak iÃ§in bu komutu kullanabilirsiniz. Detaya inmeden belirteyim; bu komutun
Ã§alÄ±ÅŸabilmesi iÃ§in projenin iÃ§inde en az bir adet Dockerfile bulunmasÄ± gerekiyor. Dockerfileâ€™la ilgili detaylarÄ± bu
bÃ¶lÃ¼mÃ¼n ilerleyen kÄ±sÄ±mlarÄ±nda bulabilirsiniz.</p><p><code>-t</code> parametresiyle oluÅŸturduÄŸunuz sÃ¼rÃ¼mÃ¼ etiketlemiÅŸ oluyorsunuz. Yani bu durumda oluÅŸturduÄŸum imaj
<code>registry.gitlab.com/tunix/alperkan.at:1.0.5</code> adÄ±yla etiketlenmiÅŸ olacak. Sondakinin sÃ¼rÃ¼m numarasÄ± olduÄŸunu daha Ã¶nce
belirtmiÅŸtim. Peki baÅŸtaki kÄ±sÄ±m neyin nesi?</p><p>AslÄ±nda sadece <code>alperkan.at:1.0.5</code> ÅŸeklinde de oluÅŸturabilirdim bu imajÄ±. Ve daha sonrasÄ±nda;</p><pre tabindex=0><code>docker tag alperkan.at:1.0.5 registry.gitlab.com/tunix/alperkan.at:1.0.5
</code></pre><p>yapabilirdim. BaÅŸtan bu ÅŸekilde yapmamÄ±n ilk sebebi docker tag gibi ikinci bir komut vermemek. Bu ÅŸekilde etiketleme
sebebim ise dockerâ€™da bir imajÄ± bir depoya yollayabilmemin tek yolunun, imajÄ±n adÄ±nÄ± o depoyla etiketlemek olmasÄ±. Bu
durumda eÄŸer <a href=https://about.gitlab.com/2016/05/23/gitlab-container-registry/>GitLab Container Registry</a> yerine
Ã¶rneÄŸin <a href=https://hub.docker.com/>Docker Hub</a> kullanacak olsaydÄ±m imajÄ±mÄ± <code>docker.io/tunix/alperkan.at:1.0.5</code> olarak
etiketlemem gerekecekti.</p><figure><img loading=lazy src=docker_build_komutunun_anatomisi.png alt="docker build komutu"><figcaption><p><code>docker build</code> komutu</p></figcaption></figure><p>docker build komutunun sonundaki nokta, imajÄ±n oluÅŸturulacaÄŸÄ± Dockerfile dosyasÄ±nÄ±n yerini belirtir. NoktanÄ±n
karÅŸÄ±lÄ±ÄŸÄ± <a href=https://www.gnu.org/software/bash/>Bash</a> ve <a href=http://zsh.sourceforge.net/>ZSH</a> gibi genel geÃ§er kabuklarda
(shell) â€œbulunduÄŸum dizinâ€ demektir.</p><p>Yine Dockerfileâ€™dan bahsettiÄŸim bÃ¶lÃ¼mde anlatacaÄŸÄ±m ama ÅŸimdiden belirtmekte fayda var. Olur da herhangi bir sebepten
dolayÄ± parametrik imaj oluÅŸturmanÄ±z gerekirse Dockerfileâ€™da deÄŸiÅŸken tanÄ±mlamanÄ±z ve bu deÄŸiÅŸkenin deÄŸerini docker build
komutu iÃ§erisinde <code>--build-arg</code> parametreleriyle verebileceÄŸinizi belirteyim. Ã–rneÄŸin tek sayfalÄ±k web uygulamalarÄ±nda
(Single Page Application), uygulamanÄ±n baÄŸlanacaÄŸÄ± ortamÄ± imajÄ± oluÅŸtururken verip geliÅŸtirme ve test ortamÄ±na baÄŸlanan
2 farklÄ± imaj yaratabilirsiniz:</p><pre tabindex=0><code>docker build -t example.com/web:1.0.0 \
    --build-arg SERVICE_URL=â€http://dev.example.comâ€ \
    --build-arg SERVICE_CONFIG=dev .
</code></pre><h3 id=docker-push-registrygitlabcomtunixalperkanat105>docker push registry.gitlab.com/tunix/alperkan.at:1.0.5<a hidden class=anchor aria-hidden=true href=#docker-push-registrygitlabcomtunixalperkanat105>#</a></h3><p>BilgisayarÄ±nÄ±zda oluÅŸturduÄŸunuz imajÄ± uzaktaki depoya yÃ¼klemenizi saÄŸlar. EÄŸer yÃ¼kleyeceÄŸiniz depo, giriÅŸ yapmanÄ±zÄ±
gerektiriyorsa, bu komuttan Ã¶nce:</p><pre tabindex=0><code>docker login registry.gitlab.com
</code></pre><p>komutuyla giriÅŸ yapmanÄ±z gerekir. Bu komut, ev dizininizdeki <code>.docker/config.json</code> dosyasÄ±nÄ± yoksa oluÅŸturacak ve giriÅŸ
yapmanÄ±zÄ± gerektiren komutlarda kullanmanÄ±z gereken ayÄ±rt edici ÅŸifreyi iÃ§ine kullandÄ±ÄŸÄ±nÄ±z depo adresiyle birlikte
yazacaktÄ±r.</p><p>KullandÄ±ÄŸÄ±m Ã¶rneklerde <a href=https://about.gitlab.com/2016/05/23/gitlab-container-registry/>GitLab Container Registry</a>
kullandÄ±ÄŸÄ±m iÃ§in <code>registry.gitlab.com</code> adresini kullanÄ±yorum. <a href=https://hub.docker.com/>Docker Hub</a> ya da farklÄ± bir
depo ile Ã§alÄ±ÅŸÄ±yorsanÄ±z komutta deÄŸiÅŸiklik yapmalÄ±sÄ±nÄ±z.</p><p><code>docker push</code> komutuyla bilgisayarÄ±nÄ±zdaki imaj iÃ§in oluÅŸturulan tÃ¼m katmanlar (baz alÄ±nan katmanlar depoda yÃ¼klÃ¼yse
atlanarak) karÅŸÄ± taraftaki depoya yÃ¼klenecektir. Bu sayede imaja ihtiyaÃ§ duyan her yerde <code>docker pull</code> komutunu
kullanarak imajÄ± indirebilir ve bu imajdan containerâ€™lar oluÅŸturabilirsiniz.</p><h3 id=docker-rmi-registrygitlabcomtunixalperkanat105>docker rmi registry.gitlab.com/tunix/alperkan.at:1.0.5<a hidden class=anchor aria-hidden=true href=#docker-rmi-registrygitlabcomtunixalperkanat105>#</a></h3><p>Ä°maj silmek iÃ§in bu komutu kullanabilirsiniz. Silinecek imajda sÃ¼rÃ¼m numarasÄ± bulunuyorsa Ã¶zel olarak belirtmelisiniz.
<code>latest</code> olarak etiketlenmiÅŸ bir imajÄ± silmek iÃ§in herhangi bir sÃ¼rÃ¼m belirtmeniz gerekmez.</p><p>Bu arada imajÄ±n IDâ€™sini biliyorsanÄ±z (bknz: <a href=#docker-images>docker images</a>) doÄŸrudan onu da
kullanabilirsiniz:</p><pre tabindex=0><code>docker rmi f24630ebe597
</code></pre><h3 id=docker-run->docker run &mldr;<a hidden class=anchor aria-hidden=true href=#docker-run->#</a></h3><p>BilgisayarÄ±nÄ±za indirdiÄŸiniz bir imajdan bir adet container Ã§alÄ±ÅŸtÄ±rmanÄ±zÄ± saÄŸlar. Ã‡alÄ±ÅŸtÄ±racaÄŸÄ±nÄ±z yazÄ±lÄ±ma gÃ¶re,
<code>docker run</code>â€™a vereceÄŸiniz parametreler de deÄŸiÅŸiklik gÃ¶sterecektir. Gelin, bir kaÃ§ Ã¶rnek Ã¼stÃ¼nden ilerleyelim.</p><pre tabindex=0><code>docker run -it --rm ubuntu /bin/bash
</code></pre><p>Bu komutla, yukarÄ±da <a href=#docker-pull-tomcat8-jre8>bahsettiÄŸim</a> gibi; eÄŸer makinenizde Ubuntuâ€™nun son
sÃ¼rÃ¼mÃ¼ yoksa indirilecek ve interaktif modda (<code>-it</code> sayesinde) Bash kabuÄŸu aÃ§Ä±lÄ±p sizden komut yazmanÄ±zÄ± bekleyecektir.
Komut satÄ±rÄ±ndan Ã§Ä±kÄ±ÅŸ yaptÄ±ÄŸÄ±nÄ±zda container otomatik olarak silinecektir. (<code>--rm</code> sayesinde) Peki ne iÅŸe yarar?
AklÄ±ma gelen bazÄ± Ã¶rnekler:</p><ul><li>Makinenize kurmak istemediÄŸiniz ya da kurmasÄ± zorlu olan yazÄ±lÄ±mlarla hÄ±zlÄ± denemeler/testler yapabilirsiniz.
<em>Ã–rneÄŸin hÄ±zlÄ± bir ownCloud denemesi yapabilir ya da elinizdeki veri setini MySQLâ€™e hÄ±zlÄ±ca aktarÄ±p Ã¼stÃ¼nde iÅŸlemler
yapÄ±p Ã§Ä±ktÄ±sÄ±nÄ± makinenize kaydedip containerâ€™Ä± uÃ§urabilirsiniz.</em></li><li>BaÅŸka bir iÅŸletim sisteminde Ã§alÄ±ÅŸan bir yazÄ±lÄ±mÄ± sanki yerel bir uygulamaymÄ±ÅŸ gibi Ã§alÄ±ÅŸtÄ±rabilirsiniz.
(macOSâ€™de olmayan komut satÄ±rÄ± araÃ§larÄ±nÄ± Ã§alÄ±ÅŸtÄ±rmak vb.)</li><li>Ã–rneÄŸin Tomcat Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zÄ± varsayarsak (<code>docker run -it --rm tomcat /bin/bash</code>) imaj iÃ§inde neyin nasÄ±l
yapÄ±ldÄ±ÄŸÄ±nÄ±/yerleÅŸtirildiÄŸini inceleyebilir ve denemeler yapabilirsiniz.</li></ul><pre tabindex=0><code>docker run -d --name deneme --restart=always -p 3000:3000 alperkan.at:1.0.5
</code></pre><p>SÄ±rasÄ±yla parametrelerin Ã¼stÃ¼nden geÃ§ersek;</p><ul><li><code>-d</code>: Ä°nteraktif modun aksine containerâ€™Ä±n arkaplanda Ã§alÄ±ÅŸmasÄ±nÄ± saÄŸlar.</li><li><code>--name</code>: Ã‡alÄ±ÅŸan containerâ€™a istediÄŸiniz bir ismin atanmasÄ±nÄ±, bÃ¶ylece kolaylÄ±kla ulaÅŸabilmenizi saÄŸlar.</li><li><code>--restart=always</code>: Docker Engineâ€™in ya da containerâ€™Ä±n herhangi bir ÅŸekilde kapanmasÄ± sonrasÄ±nda otomatik olarak
yeniden baÅŸlatÄ±lmasÄ±nÄ± saÄŸlar. DiÄŸer olasÄ± deÄŸerler: <code>no</code>, <code>on-failure:5</code>, <code>unless-stopped</code></li><li><code>-p 3000:3000</code>: Ev sahibi makinedeki 3000. baÄŸlantÄ± noktasÄ±nÄ±, container iÃ§erisindeki 3000. porta yÃ¶nlendirir.
<em>Alternatif olarak yalnÄ±zca -P yazmanÄ±z halinde containerâ€™Ä±n aÃ§Ä±lmasÄ± istenen tÃ¼m baÄŸlantÄ± noktalarÄ±, ev sahibi
Ã¼stÃ¼ndeki rastgele baÄŸlantÄ± noktalarÄ±na yÃ¶nlendirilir.</em></li></ul><blockquote><p>Pro Tip: Ã–zellikle Ã¶lÃ§eklenebilirliÄŸin Ã¶nemli olduÄŸu durumlarda -P kullanmak daha doÄŸrudur.</p></blockquote><p>Bu komutla beraber kullanÄ±labilecek diÄŸer bazÄ± Ã¶nemli parametreler ise ÅŸÃ¶yle:</p><ul><li><p><code>-e</code>: Container iÃ§erisinde Ã§evresel deÄŸiÅŸkenler tanÄ±mlamak iÃ§in kullanÄ±lÄ±r. Bu sayede Ã§alÄ±ÅŸma esnasÄ±nda uygulamanÄ±n
davranÄ±ÅŸÄ±nÄ± deÄŸiÅŸtirebilir, kritik parametreleri dÄ±ÅŸarÄ±dan saÄŸlayabilir ya da Ã¶rneÄŸin MySQL, Tomcat vb.
uygulamalarÄ±n yetkili kullanÄ±cÄ± adÄ±nÄ± veya ÅŸifresini dÄ±ÅŸarÄ±dan tanÄ±mlayabilirsiniz. TanÄ±mlamak istediÄŸiniz her
Ã§evresel deÄŸiÅŸken iÃ§in ayrÄ± ayrÄ± -e parametreleri tanÄ±mlayabilirsiniz. (Ã¶r: <code>-e MYSQL_ROOT_PASSWORD=test</code>)
<strong>Container imajlarÄ±nÄ±n deÄŸiÅŸtirilmezlik ilkesini gÃ¶z Ã¶nÃ¼nde bulundurarak; Ã§evresel deÄŸiÅŸkenlerin en Ã¶nemli
Ã¶zelliklerden biri olduÄŸunu vurgulamalÄ±yÄ±m.</strong> Serinin ilerleyen bÃ¶lÃ¼mlerinde gerÃ§ek Ã¶rneklerle nasÄ±l
kullanabileceÄŸimizi gÃ¶receÄŸiz.</p></li><li><p><code>-v</code>: Container iÃ§erisindeki bir dizin ya da dosyayÄ±, ev sahibi makine Ã¼stÃ¼ndeki bir dizine baÄŸlamak iÃ§in kullanÄ±lÄ±r.
BaÄŸlamak istediÄŸiniz her dizin ve dosya iÃ§in ayrÄ± ayrÄ± -v parametresi tanÄ±mlayabilirsiniz.
(Ã¶r: <code>-v /home/alper/tomcat/webapps:/opt/tomcat/webapps</code>) <strong>UnutulmamasÄ± gereken kÄ±sÄ±m; bu komutun kullanÄ±lmasÄ±
durumunda containerâ€™Ä±n dÄ±ÅŸa baÄŸÄ±mlÄ± hale geliyor olmasÄ± ve imajÄ±n deÄŸiÅŸtirilmezlik ilkesine aslÄ±nda ters olduÄŸu.</strong></p></li><li><p><code>-l</code>: Containerâ€™a Ã§eÅŸitli etiketler atamanÄ±zÄ± saÄŸlar. (Ã¶r: <code>-l TYPE=web -l PRIORITY=1</code>) TanÄ±mlamak istediÄŸiniz her
etiket iÃ§in ayrÄ± ayrÄ± -l tanÄ±mÄ± yapabilirsiniz. Ã–zellikle Ã¶lÃ§eklenebilirliÄŸin Ã¶nemli olduÄŸu durumlarda Docker
Engineâ€™in kendisine ve containerâ€™lara etiketler atamak oldukÃ§a bÃ¼yÃ¼k Ã¶nem arz ediyor.</p></li><li><p><code>-u</code>: Ã‡alÄ±ÅŸacak containerâ€™Ä±n hangi kullanÄ±cÄ±yla Ã§alÄ±ÅŸacaÄŸÄ±nÄ± belirler. Ã–ntanÄ±mlÄ± olarak her container root
yetkileriyle Ã§alÄ±ÅŸÄ±yor ve bu durum aslÄ±na bakarsanÄ±z gÃ¼venlik aÃ§Ä±klarÄ±na sebebiyet verebiliyor. Bu nedenle
containerâ€™larÄ± mÃ¼mkÃ¼nse yetkisiz kullanÄ±cÄ±larla Ã§alÄ±ÅŸtÄ±rmalÄ±sÄ±nÄ±z. <em>Serinin ilerleyen bÃ¶lÃ¼mlerinde bahsedeceÄŸim
Dockerfileâ€™lar sayesinde bu adÄ±mÄ± Ã§alÄ±ÅŸtÄ±rma esnasÄ±nda parametre vermeksizin geÃ§iÅŸtirebilirsiniz.</em></p></li></ul><p>docker run komutuna bunlarÄ±n dÄ±ÅŸÄ±nda verebileceÄŸiniz daha pek Ã§ok parametre bulunuyor. Ã–rneÄŸin; Ã§alÄ±ÅŸtÄ±racaÄŸÄ±nÄ±z
containerâ€™a ayrÄ±lacak CPU ve belleÄŸi belirtebileceÄŸiniz gibi disk okuma/yazma hÄ±zÄ±nÄ± ya da hangi aÄŸa eriÅŸeceÄŸini
ayarlayabilirsiniz. TÃ¼m bu detaylarÄ± bu <a href=#docker-cmd->yazÄ±nÄ±n baÅŸÄ±nda belirttiÄŸim</a> gibi;
<code>docker run --help</code> komutuyla Ã¶ÄŸrenebilirsiniz.</p><h3 id=docker-logs---tail-20--f-alperkanat>docker logs &ndash;tail 20 -f alperkan.at<a hidden class=anchor aria-hidden=true href=#docker-logs---tail-20--f-alperkanat>#</a></h3><p>Docker containerâ€™larÄ± genellikle yalnÄ±zca tek bir sÃ¼reÃ§ Ã§alÄ±ÅŸtÄ±racak ve temel Ã§Ä±ktÄ±ya (stdout) bir ÅŸeyler basacak
ÅŸekilde tasarlanÄ±rlar. Temel Ã§Ä±ktÄ±ya basÄ±lan iÅŸlem kayÄ±tlarÄ±na bu komutla ulaÅŸabilirsiniz. Ã–rneÄŸin bir nginx
containerâ€™Ä± baÅŸlatÄ±rsanÄ±z; <code>access.log</code>â€™u bu komutla takip edebilirsiniz.</p><p><code>--tail</code>: En son N satÄ±rdan itibaren Ã§Ä±ktÄ±yÄ± ekrana getirir.
<code>-f</code>: Komut iptal edilene kadar (Ctrl-C) Ã§Ä±ktÄ±yÄ± takip etmeye devam eder.</p><h3 id=docker-exec--it-alperkanat-ls--l-srv>docker exec -it alperkan.at ls -l /srv<a hidden class=anchor aria-hidden=true href=#docker-exec--it-alperkanat-ls--l-srv>#</a></h3><p>Ã‡alÄ±ÅŸan (hali hazÄ±rda Ã§alÄ±ÅŸmayan bir containerâ€™da bu komutu kullanamazsÄ±nÄ±z) bir container iÃ§inde komutlar
Ã§alÄ±ÅŸtÄ±rmanÄ±zÄ± saÄŸlayan bu komutu yalnÄ±zca container imajÄ±nÄ± hazÄ±rlarken ya da containerâ€™daki sorunlarÄ± anlamaya
Ã§alÄ±ÅŸÄ±rken kullanmalÄ±sÄ±nÄ±z.</p><p>Bu komutu genellikle docker logs ile takip edemediÄŸiniz farklÄ± log dosyalarÄ±nÄ± takip etmek ya da kabuk baÅŸlatÄ±p daha
ileri seviye iÅŸler yapmak iÃ§in kullanabilirsiniz. Ä°htiyacÄ±nÄ±z olabilecek Ã¶rnek komutlar:</p><pre tabindex=0><code>docker exec -it nginx-proxy tail -F /var/log/nginx/error.log
docker exec -it alperkan.at /bin/bash
</code></pre><h3 id=docker-cp-desktopdatajson-alperkanatsrvdatamejson>docker cp ~/Desktop/data.json alperkan.at:/srv/data/me.json<a hidden class=anchor aria-hidden=true href=#docker-cp-desktopdatajson-alperkanatsrvdatamejson>#</a></h3><p>BilgisayarÄ±nÄ±zdaki bir dosyayÄ±/dizini containerâ€™a ya da containerâ€™daki bir dosyayÄ±/dizini bilgisayarÄ±nÄ±za
kopyalamanÄ±zÄ± saÄŸlar.</p><p><code>-L</code>: OlasÄ± sembolik dosya ve dizinlerin de doÄŸru ÅŸekilde kopyalanmasÄ±nÄ± garantiler.</p><h3 id=docker-stop-alperkanat>docker stop alperkan.at<a hidden class=anchor aria-hidden=true href=#docker-stop-alperkanat>#</a></h3><p>Ã‡alÄ±ÅŸan bir containerâ€™Ä± durdurmanÄ±zÄ± saÄŸlar. Bazen bir containerâ€™a daha sonra tekrar ihtiyacÄ±nÄ±z olabilir. Bu tip
durumlarda durdurup sonra tekrar <a href=#docker-start-alperkanat>docker start</a> komutuyla ayaÄŸa
kaldÄ±rabilirsiniz.</p><p><code>-t</code>: Container kapanmakta gecikirse bu komutu vererek N saniye geÃ§tikten sonra Ã¶ldÃ¼rÃ¼lmesini saÄŸlayabilirsiniz.</p><h3 id=docker-start-alperkanat>docker start alperkan.at<a hidden class=anchor aria-hidden=true href=#docker-start-alperkanat>#</a></h3><p><a href=#docker-stop-alperkanat>docker stop</a> komutuyla durdurduÄŸunuz bir containerâ€™Ä± yeniden baÅŸlatmanÄ±zÄ±
saÄŸlar.</p><p><code>-a</code>: Containerâ€™Ä± baÅŸlattÄ±ktan sonra temel Ã§Ä±ktÄ±sÄ±nÄ±n bulunduÄŸunuz kabuk oturumuna baÄŸlanmasÄ±nÄ± saÄŸlar.</p><h3 id=docker-inspect-alperkanat>docker inspect alperkan.at<a hidden class=anchor aria-hidden=true href=#docker-inspect-alperkanat>#</a></h3><p>Ã‡alÄ±ÅŸan containerâ€™la ilgili Ã§ok detaylÄ± bilgilere ulaÅŸmanÄ±zÄ± saÄŸlar. Bu komutla Ã¶rneÄŸin; containerâ€™da Ã§alÄ±ÅŸan Ã§evresel
deÄŸiÅŸkenlere, tanÄ±mlanmÄ±ÅŸ baÄŸlantÄ± noktalarÄ±na, baÄŸlanmÄ±ÅŸ disk alanlarÄ±na ve daha pek Ã§ok bilgiye ulaÅŸabilirsiniz.</p><blockquote><p>Pro Tip: Bu komuta Ã§Ä±ktÄ±sÄ± iÃ§erisinde rahatÃ§a dolaÅŸabilmek ve arama yapabilmek iÃ§in <code>|less</code> eklemek isteyebilirsiniz.</p></blockquote><hr><p>Serinin bu bÃ¶lÃ¼mÃ¼nÃ¼n de sonuna geldik. Bir sonraki bÃ¶lÃ¼m olan Docker Engine BÃ¶lÃ¼m 2&rsquo;de kalÄ±cÄ± veri depolama, Ã§evresel
deÄŸiÅŸkenler, baÄŸlantÄ± noktalarÄ±, Dockerfile, kendi imajÄ±nÄ±zÄ± hazÄ±rlamak, Docker Hub & Registry ve son olarak kendi
Ã¶zel Docker Hubâ€™Ä±nÄ±za nasÄ±l sahip olabileceÄŸinizden bahsedeceÄŸim.</p><p>GidiÅŸÃ¢ta gÃ¶re bu planda zaman zaman deÄŸiÅŸiklikler yapacak olsam da serinin tÃ¼m bÃ¶lÃ¼mlerinin planÄ±na
<a href=https://www.evernote.com/l/AB7CctYtJkpMUJsae1_3FgzIXgMY5MvFQhU>ÅŸuradan</a> ulaÅŸabilirsiniz.</p><p>KatkÄ±larÄ±ndan dolayÄ± Åamil Canâ€™a teÅŸekkÃ¼rler! Serinin bir sonraki bÃ¶lÃ¼mÃ¼nde gÃ¶rÃ¼ÅŸmek Ã¼zere! âœŒï¸</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://alperkan.at/tr/tags/yaz%C4%B1l%C4%B1m/>yazÄ±lÄ±m</a></li><li><a href=https://alperkan.at/tr/tags/docker/>docker</a></li><li><a href=https://alperkan.at/tr/tags/docker-serisi/>docker serisi</a></li><li><a href=https://alperkan.at/tr/tags/container/>container</a></li><li><a href=https://alperkan.at/tr/tags/sanalla%C5%9Ft%C4%B1rma/>sanallaÅŸtÄ±rma</a></li><li><a href=https://alperkan.at/tr/tags/linux/>linux</a></li><li><a href=https://alperkan.at/tr/tags/devops/>devops</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://alperkan.at/tr/>Alper Kanat</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>